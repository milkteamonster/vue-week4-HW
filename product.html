<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vue-week4</title>
    <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.37/vue.global.js"></script>
    <link rel="stylesheet" href="./css/product.css">
</head>
<body>
<div id="app">
<div class="container">
    <div class="text-end mt-4">
    <button class="btn btn-primary" @click="openModal('new')">
        建立新的產品
    </button>
    </div>
    <table class="table mt-4">
    <thead>
        <tr>
        <th width="120">
            分類
        </th>
        <th>產品名稱</th>
        <th width="120">
            原價
        </th>
        <th width="120">
            售價
        </th>
        <th width="100">
            是否啟用
        </th>
        <th width="120">
            編輯
        </th>
        </tr>
    </thead>
    <tbody>
        <tr v-for="(item) in products" :key="item.id">
        <td>{{item.category}}</td>
        <td>{{item.title}}</td>
        <td class="text-end">{{item.origin_price}}</td>
        <td class="text-end">{{item.price}}</td>
        <td>
            <span v-if="item.is_enabled" class="text-success">啟用</span>
            <span v-else>未啟用</span>
        </td>
        <td>
            <div class="btn-group">
            <button @click="openModal('edit', item)" type="button" class="btn btn-outline-primary btn-sm">
                編輯
            </button>
            <button @click="openModal('delete', item)" type="button" class="btn btn-outline-danger btn-sm">
                刪除
            </button>
            </div>
        </td>
        </tr>
    </tbody>
    </table>

    <pagination
        :pages="pages"
        :get-products="getProducts"
    >
    </pagination>
<!-- pagination -->


</div>


<!-- 編輯的彈跳視窗 -->
<Product-Modal
    :temp-product="tempProduct"
    :update-product="updateProduct"
    ref="pModal"
></Product-Modal>


<!-- 刪除的彈跳視窗 -->
<Delete-Modal
    :del-Product="delProduct"
    :temp-Product="tempProduct"
    ref="dModal"
></Delete-Modal>

</div>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"
            integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG"
            crossorigin="anonymous"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script type="module" src="./js/product.js"></script>
</body>
</html>